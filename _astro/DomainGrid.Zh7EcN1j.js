import{j as e}from"./jsx-runtime.DCqPeNwG.js";import{r as x}from"./index.66AI1_x2.js";import{b as f}from"./url-builder.Ce_ff4_l.js";import{g as p}from"./utils.DYUCIFCE.js";import{S as b}from"./components.C4GXEYwZ.js";import{F as l}from"./RectangleGroupIcon.DKuBn3vz.js";import{F as y}from"./QueueListIcon.CFcY8mzd.js";import{F as w}from"./Squares2X2Icon.BUnB1vlz.js";import{F as d}from"./ServerIcon.Bm0Sn4r6.js";import{F as j}from"./EnvelopeIcon.CURY145Q.js";import{B as v}from"./box.Dpj119uS.js";import{F as m}from"./CircleStackIcon.B3azSDUG.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./createLucideIcon.BukmfUhN.js";function W({domains:o,embeded:F}){const[i,u]=x.useState(""),[n,g]=x.useState(!1);x.useEffect(()=>{if(typeof window<"u"){const a=localStorage.getItem("EventCatalog:ArchitectureColumnLayout");a!==null&&g(a==="multi")}},[]);const N=()=>{const a=!n;g(a),typeof window<"u"&&localStorage.setItem("EventCatalog:ArchitectureColumnLayout",a?"multi":"single")},c=x.useMemo(()=>{let a=[...o];if(i){const s=i.toLowerCase();a=a.filter(t=>t.data.name?.toLowerCase().includes(s)||t.data.summary?.toLowerCase().includes(s)||t.data.services?.some(r=>r.data.name.toLowerCase().includes(s))||t.sends?.some(r=>r.data.name.toLowerCase().includes(s))||t.receives?.some(r=>r.data.name.toLowerCase().includes(s)))}return a.sort((s,t)=>(s.data.name||s.data.id).localeCompare(t.data.name||t.data.id)),a},[o,i]);return e.jsxs("div",{children:[e.jsx("nav",{className:"mb-4 flex items-center space-x-2 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{className:"text-gray-900",children:"Domains"})]})}),e.jsx("div",{className:"relative border-b border-gray-200  mb-4 pb-4",children:e.jsxs("div",{className:"md:flex md:items-start md:justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1 max-w-lg",children:[e.jsxs("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:["Domains (",c.length,")"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Browse and manage domains in your event-driven architecture"})]}),e.jsxs("div",{className:"mt-6 md:mt-0 md:ml-4 flex-shrink-0 flex items-center gap-3",children:[e.jsx(b,{searchQuery:i,onSearchChange:u,placeholder:"Search domains...",totalResults:c.length,totalItems:o.length}),e.jsx("button",{onClick:N,className:"flex items-center justify-center p-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",title:n?"Switch to single column":"Switch to multi column",children:n?e.jsx(y,{className:"h-5 w-5 text-gray-600"}):e.jsx(w,{className:"h-5 w-5 text-gray-600"})})]})]})}),e.jsx("div",{className:`grid gap-6 ${n?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2":"grid-cols-1"}`,children:c.map(a=>e.jsx("a",{href:f("/architecture/services",{serviceIds:a.data.services?.map(s=>s.data.id).join(","),domainId:a.data.id,domainName:a.data.name}),className:"group hover:bg-orange-100  border-2 border-orange-400/50 bg-yellow-50 rounded-lg shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-5 w-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate group-hover:underline transition-colors duration-200",children:a.data.name||a.data.id})]}),e.jsxs("span",{className:"ml-2 shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-50 text-orange-700",children:["v",a.data.version]})]}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 min-h-[2.5rem]",children:a.data.summary||e.jsx("span",{className:"italic",children:"No summary available"})}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-orange-200",children:[e.jsx(l,{className:"h-4 w-4 text-yellow-500"}),e.jsx("div",{className:"flex",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[a.data.domains?.length||0," Subdomains"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-pink-200",children:[e.jsx(d,{className:"h-4 w-4 text-pink-500"}),e.jsx("div",{className:"flex",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[a.data.services?.length||0," Services"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-gray-200 ",children:[e.jsx(j,{className:"h-4 w-4 text-blue-500"}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(a.sends?.length||0)+(a.receives?.length||0)," Messages"]})})]}),a.data.entities&&a.data.entities.length>0&&e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-gray-200 ",children:[e.jsx(v,{className:"h-4 w-4 text-purple-500"}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[a.data.entities?.length," Entities"]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[a.data.domains?.slice(0,2).map(s=>e.jsxs("div",{className:"block space-y-2 bg-white border-2 border-dashed border-orange-400 p-4 rounded-lg transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-orange-500"}),e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[s.data.name||s.data.id," (Subdomain)"]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["v",s.data.version]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-pink-200",children:[e.jsx(d,{className:"h-4 w-4 text-pink-500"}),e.jsx("div",{className:"flex",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.data.services?.length||0," Services"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-gray-200",children:[e.jsx(j,{className:"h-4 w-4 text-blue-500"}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(s.sends?.length||0)+(s.receives?.length||0)," Messages"]})})]})]})]},s.data.id)),a.data.services?.slice(0,2).map(s=>e.jsxs("div",{className:"block space-y-2 bg-white border-2 border-dashed border-pink-400 p-4 rounded-lg transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-pink-500"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:s.data.name||s.data.id})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["v",s.data.version]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-full flex flex-col bg-blue-50  border border-blue-300 rounded-lg p-3",children:e.jsxs("div",{className:"space-y-1.5 flex-1",children:[s.data.receives?.slice(0,3).map(t=>{const{Icon:r,color:h}=p(t.collection);return e.jsxs("div",{className:"group flex border border-gray-200 items-center gap-1 rounded-md text-[11px] font-medium bg-white",children:[e.jsx("div",{className:"bg-white border-r border-gray-200 px-2 py-1.5 rounded-l-md",children:e.jsx(r,{className:`h-3 w-3 text-${h}-500`})}),e.jsx("span",{className:"px-1 py-1 truncate max-w-[140px]",children:t.id})]},`${t.id}-${t.version}`)}),s.data.receives&&s.data.receives.length>3&&e.jsx("div",{className:"text-center py-1",children:e.jsxs("p",{className:"text-gray-500 text-[10px]",children:["+ ",s.data.receives.length-3," more"]})}),!s.data.receives?.length&&e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-gray-500 text-xs",children:"No messages received"})})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-[2px] bg-blue-200"}),e.jsx("div",{className:"bg-white border-2 border-gray-300 rounded-lg p-2 shadow-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(d,{className:"h-6 w-6 text-pink-500"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:s.data.name||s.data.id}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:["v",s.data.version]})]})]})}),e.jsx("div",{className:"w-4 h-[2px] bg-emerald-200"})]}),e.jsx("div",{className:"flex-1 h-full flex flex-col bg-green-100  border border-green-300 rounded-lg p-3",children:e.jsxs("div",{className:"space-y-1.5 flex-1",children:[s.data.sends?.slice(0,3).map(t=>{const{Icon:r,color:h}=p(t.collection);return e.jsxs("div",{className:"group flex border border-gray-200 items-center gap-1 rounded-md text-[11px] font-medium bg-white",children:[e.jsx("div",{className:"bg-white border-r border-gray-200 px-2 py-1.5 rounded-l-md",children:e.jsx(r,{className:`h-3 w-3 text-${h}-500`})}),e.jsx("span",{className:"px-1 py-1 truncate max-w-[140px]",children:t.id})]},`${t.id}-${t.version}`)}),s.data.sends&&s.data.sends.length>3&&e.jsx("div",{className:"text-center py-1",children:e.jsxs("p",{className:"text-gray-500 text-xs",children:["+ ",s.data.sends.length-3," more"]})}),!s.data.sends?.length&&e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-gray-500 text-xs",children:"No messages sent"})})]})})]}),(s.data.readsFrom&&s.data.readsFrom.length>0||s.data.writesTo&&s.data.writesTo.length>0)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 grid grid-cols-2 gap-4",children:[s.data.readsFrom&&s.data.readsFrom.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4 text-orange-500"}),e.jsx("h4",{className:"text-xs font-semibold text-gray-700",children:"Reads from"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.data.readsFrom.slice(0,3).map(t=>e.jsxs("span",{className:"group inline-flex items-center gap-1 px-2 py-1 bg-orange-100 border border-orange-300 rounded-md text-[11px] font-medium hover:bg-orange-200 transition-colors duration-200",children:[e.jsx(m,{className:"h-3 w-3 text-orange-600"}),e.jsx("span",{className:"text-orange-800",children:t.id})]},t.id)),s.data.readsFrom.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs text-gray-500",children:["+ ",s.data.readsFrom.length-3," more"]})]})]}),s.data.writesTo&&s.data.writesTo.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4 text-purple-500"}),e.jsx("h4",{className:"text-xs font-semibold text-gray-700",children:"Writes to"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.data.writesTo.slice(0,3).map(t=>e.jsxs("span",{className:"group inline-flex items-center gap-1 px-2 py-1 bg-purple-100 border border-purple-300 rounded-md text-[11px] font-medium hover:bg-purple-200 transition-colors duration-200",children:[e.jsx(m,{className:"h-3 w-3 text-purple-600"}),e.jsx("span",{className:"text-purple-800",children:t.id})]},t.id)),s.data.writesTo.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs text-gray-500",children:["+ ",s.data.writesTo.length-3," more"]})]})]})]})]},s.data.id)),a.data.domains&&a.data.domains.length>2&&e.jsx("div",{className:"block space-y-2 bg-white border-2 border-dashed border-orange-400 p-4 rounded-lg transition-colors duration-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-orange-500/70"}),e.jsxs("h4",{className:"text-sm font-medium text-gray-600",children:["+",a.data.domains.length-2," more subdomains"]})]})})}),a.data.services&&a.data.services.length>2&&e.jsx("div",{className:"block space-y-2 bg-white border-2 border-dashed border-pink-400 p-4 rounded-lg transition-colors duration-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-pink-500/70"}),e.jsxs("h4",{className:"text-sm font-medium text-gray-600",children:["+",a.data.services.length-2," more services"]})]})})})]})]})},a.data.id))}),c.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No domains found matching your criteria"})})]})}export{W as default};
