import{j as e}from"./jsx-runtime.DCqPeNwG.js";import{r as s}from"./index.66AI1_x2.js";import"./_commonjsHelpers.Cpj98o6Y.js";const w=({environments:i})=>{const[o,l]=s.useState(!1),[a,m]=s.useState(null),c=s.useRef(null);s.useEffect(()=>{const t=window.location.origin,n=i.find(r=>new URL(r.url).origin===t);m(n||null)},[i]),s.useEffect(()=>{const t=r=>{c.current&&!c.current.contains(r.target)&&l(!1)},n=r=>{r.key==="Escape"&&l(!1)};return o&&(document.addEventListener("click",t),document.addEventListener("keydown",n)),()=>{document.removeEventListener("click",t),document.removeEventListener("keydown",n)}},[o]);const p=t=>{t.stopPropagation(),l(!o)};return e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{type:"button",onClick:p,className:"flex items-center space-x-1 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 rounded-md px-3 py-2","aria-expanded":o,"aria-haspopup":"true",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsxs("span",{children:["Environments",a&&e.jsxs("span",{className:"font-normal",children:[" (",a.shortName||a.name,")"]})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{className:`${o?"":"hidden"} absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100 overflow-hidden z-20`,children:i.map(t=>{const n=a?.name===t.name;return e.jsx("a",{href:t.url,onClick:r=>{r.preventDefault();const d=window.location.pathname+window.location.search+window.location.hash,u=new URL(t.url);u.pathname=d,window.location.href=u.toString()},className:`block px-4 py-3 text-sm transition-colors border-b border-gray-50 last:border-b-0 ${n?"bg-purple-50 text-purple-700 hover:bg-purple-100":"text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${n?"text-purple-700":""}`,children:t.name}),t.description&&e.jsx("div",{className:`text-xs font-light mt-1 ${n?"text-purple-600":"text-gray-500"}`,children:t.description})]}),n&&e.jsx("svg",{className:"w-4 h-4 text-purple-600 flex-shrink-0 ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},t.name)})})]})};export{w as EnvironmentDropdown};
