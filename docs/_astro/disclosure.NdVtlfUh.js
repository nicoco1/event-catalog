import{Y as x,y as T,o as I,u as J,N as Y,i as g,n as h,x as _,K as k,s as q,T as z,b as Q,C as W,c as Z,a as w,A,l as ee,d as X,e as P,f as te,$ as le,g as ne,w as re,h as se,V as H}from"./open-closed.Bmht7vGw.js";import{R as S,r as n}from"./index.66AI1_x2.js";var L;let oe=(L=S.startTransition)!=null?L:function(e){e()};var ae=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ae||{}),ue=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(ue||{});let ce={0:e=>({...e,disclosureState:w(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},B=n.createContext(null);B.displayName="DisclosureContext";function F(e){let t=n.useContext(B);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,F),u}return t}let O=n.createContext(null);O.displayName="DisclosureAPIContext";function M(e){let t=n.useContext(O);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,M),u}return t}let R=n.createContext(null);R.displayName="DisclosurePanelContext";function ie(){return n.useContext(R)}function de(e,t){return w(t.type,ce,e,t)}let pe=n.Fragment;function fe(e,t){let{defaultOpen:u=!1,...i}=e,c=n.useRef(null),d=T(t,z(o=>{c.current=o},e.as===void 0||Q(e.as))),p=n.useReducer(de,{disclosureState:u?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:r},b]=p,s=I(o=>{b({type:1});let m=ee(c.current);if(!m||!r)return;let E=o?X(o)?o:"current"in o&&X(o.current)?o.current:m.getElementById(r):m.getElementById(r);E?.focus()}),$=n.useMemo(()=>({close:s}),[s]),f=h({open:l===0,close:s}),y={ref:d},v=k();return S.createElement(B.Provider,{value:p},S.createElement(O.Provider,{value:$},S.createElement(W,{value:s},S.createElement(Z,{value:w(l,{0:g.Open,1:g.Closed})},v({ourProps:y,theirProps:i,slot:f,defaultTag:pe,name:"Disclosure"})))))}let me="button";function Ee(e,t){let u=n.useId(),{id:i=`headlessui-disclosure-button-${u}`,disabled:c=!1,autoFocus:d=!1,...p}=e,[l,r]=F("Disclosure.Button"),b=ie(),s=b===null?!1:b===l.panelId,$=n.useRef(null),f=T($,t,I(a=>{if(!s)return r({type:4,element:a})}));n.useEffect(()=>{if(!s)return r({type:2,buttonId:i}),()=>{r({type:2,buttonId:null})}},[i,r,s]);let y=I(a=>{var D;if(s){if(l.disclosureState===1)return;switch(a.key){case P.Space:case P.Enter:a.preventDefault(),a.stopPropagation(),r({type:0}),(D=l.buttonElement)==null||D.focus();break}}else switch(a.key){case P.Space:case P.Enter:a.preventDefault(),a.stopPropagation(),r({type:0});break}}),v=I(a=>{switch(a.key){case P.Space:a.preventDefault();break}}),o=I(a=>{var D;te(a.currentTarget)||c||(s?(r({type:0}),(D=l.buttonElement)==null||D.focus()):r({type:0}))}),{isFocusVisible:m,focusProps:E}=le({autoFocus:d}),{isHovered:C,hoverProps:K}=ne({isDisabled:c}),{pressed:U,pressProps:N}=re({disabled:c}),j=h({open:l.disclosureState===0,hover:C,active:U,disabled:c,focus:m,autofocus:d}),V=se(e,l.buttonElement),G=s?H({ref:f,type:V,disabled:c||void 0,autoFocus:d,onKeyDown:y,onClick:o},E,K,N):H({ref:f,id:i,type:V,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:c||void 0,autoFocus:d,onKeyDown:y,onKeyUp:v,onClick:o},E,K,N);return k()({ourProps:G,theirProps:p,slot:j,defaultTag:me,name:"Disclosure.Button"})}let Se="div",be=A.RenderStrategy|A.Static;function ye(e,t){let u=n.useId(),{id:i=`headlessui-disclosure-panel-${u}`,transition:c=!1,...d}=e,[p,l]=F("Disclosure.Panel"),{close:r}=M("Disclosure.Panel"),[b,s]=n.useState(null),$=T(t,I(C=>{oe(()=>l({type:5,element:C}))}),s);n.useEffect(()=>(l({type:3,panelId:i}),()=>{l({type:3,panelId:null})}),[i,l]);let f=J(),[y,v]=Y(c,b,f!==null?(f&g.Open)===g.Open:p.disclosureState===0),o=h({open:p.disclosureState===0,close:r}),m={ref:$,id:i,..._(v)},E=k();return S.createElement(q,null,S.createElement(R.Provider,{value:p.panelId},E({ourProps:m,theirProps:d,slot:o,defaultTag:Se,features:be,visible:y,name:"Disclosure.Panel"})))}let Ie=x(fe),$e=x(Ee),ve=x(ye),ge=Object.assign(Ie,{Button:$e,Panel:ve});export{ve as L,ge as X,$e as x};
