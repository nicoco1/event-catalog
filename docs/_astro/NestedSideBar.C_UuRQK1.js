import{j as e}from"./jsx-runtime.DCqPeNwG.js";import{r as c}from"./index.66AI1_x2.js";import{A as ve,M as we,S as je,B as Ne,Z as ke,W as Se,a as ne,b as Ce,c as Fe,C as B,d as Le,e as X,F as Ie,L as le,H as De}from"./lucide-react.wmXqCORs.js";import{D as Ee}from"./database.Bx4WLkcY.js";import{X as $e}from"./x.CZKWv4Q_.js";import{u as oe,f as Pe,t as Te}from"./favorites-store.bUkm26iH.js";import{a as Oe}from"./sidebar-store.Ywk452jY.js";import{C as ie}from"./square-pen.CYMWY9JE.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./createLucideIcon.BukmfUhN.js";import"./box.Dpj119uS.js";import"./check.Bh7Hnhg7.js";import"./clipboard.SQIqs4xW.js";import"./copy.BwLeP_fT.js";import"./external-link.Cc5NOFPQ.js";import"./history.BrJFi3lo.js";import"./loader-circle.DWPDv1y3.js";import"./users.CMrsoqVr.js";import"./index.daetGfa_.js";const J=(...o)=>o.filter(Boolean).join(" "),Re=o=>({domain:"bg-blue-100 text-blue-700",service:"bg-green-100 text-green-700",event:"bg-amber-100 text-amber-700",command:"bg-pink-100 text-pink-700",query:"bg-purple-100 text-purple-700",message:"bg-indigo-100 text-indigo-700",design:"bg-teal-100 text-teal-700",channel:"bg-indigo-100 text-indigo-700"})[o.toLowerCase()]||"bg-gray-100 text-gray-600";function We({nodes:o,onSelectResult:j,onSearchChange:h}){const[u,m]=c.useState(""),[x,_]=c.useState(new Set),[k,O]=c.useState(!1),N=c.useMemo(()=>Object.entries(o).filter(([l,p])=>p.type!=="group"),[o]),I=c.useMemo(()=>{const l=new Set;for(const[p,b]of N)b.badge&&l.add(b.badge);return l},[N]),A=l=>{m(l),h?.(l.trim().length>0)},P=()=>{m(""),h?.(!1)},R=[{key:"channel",label:"Channels",badge:"Channel",icon:ve},{key:"command",label:"Commands",badge:"Command",icon:we},{key:"container",label:"Data Stores",badge:"Container",icon:Ee},{key:"design",label:"Designs",badge:"Design",icon:je},{key:"domain",label:"Domains",badge:"Domain",icon:Ne},{key:"event",label:"Events",badge:"Event",icon:ke},{key:"flow",label:"Flows",badge:"Flow",icon:Se},{key:"query",label:"Queries",badge:"Query",icon:ne},{key:"service",label:"Services",badge:"Service",icon:Ce}].filter(l=>I.has(l.badge)),M=l=>{_(p=>{const b=new Set(p);return b.has(l)?b.delete(l):b.add(l),b})},z=c.useCallback(()=>{if(!u.trim())return[];const l=u.toLowerCase(),p=[],b={Domain:"domain",Service:"service",Event:"event",Command:"command",Query:"query",Container:"container",Flow:"flow",Design:"design"};for(const[S,C]of N){if(x.size>0){const L=C.badge?b[C.badge]:null;if(!L||!x.has(L))continue}if(C.title.toLowerCase().includes(l)){p.push({nodeKey:S,node:C,matchType:"name"});continue}const F=S.split(":");F.length>=3&&F[2].toLowerCase().includes(l)&&p.push({nodeKey:S,node:C,matchType:"id"})}return p.sort((S,C)=>{const F=S.node.title.toLowerCase()===l,L=C.node.title.toLowerCase()===l;return F&&!L?-1:!F&&L?1:S.node.title.localeCompare(C.node.title)}).slice(0,20)},[u,N,x]),G=(l,p)=>{j(l,p),P()},v=z(),Q=u.trim().length>0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search resources...",value:u,onChange:l=>A(l.target.value),className:"w-full pl-9 pr-8 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder:text-gray-400"}),u&&e.jsx("button",{onClick:P,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:e.jsx($e,{className:"w-4 h-4","aria-hidden":"true"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>O(!k),className:J("flex items-center justify-center w-10 h-10 rounded-lg border transition-colors",x.size>0?"bg-purple-50 border-purple-200 text-purple-600":"bg-gray-50 border-gray-200 text-gray-400 hover:text-gray-600 hover:bg-gray-100"),"aria-label":"Filter search results","aria-expanded":k,children:[e.jsx(Fe,{className:"w-4 h-4","aria-hidden":"true"}),x.size>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-purple-600 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:x.size})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>O(!1)}),e.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-30",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wide px-2 py-1",children:"Filter by type"}),e.jsx("div",{className:"flex flex-col gap-0.5 mt-1",children:R.map(l=>{const p=x.has(l.key),b=l.icon;return e.jsxs("button",{onClick:()=>M(l.key),className:J("flex items-center justify-between px-2 py-1.5 rounded text-sm transition-colors",p?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-100"),children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-3 h-3"}),l.label]}),p&&e.jsx("span",{className:"text-purple-600",children:"✓"})]},l.key)})}),x.size>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 my-2"}),e.jsx("button",{onClick:()=>{_(new Set),O(!1)},className:"w-full px-2 py-1.5 text-sm text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded text-left",children:"Reset filters"})]})]})})]})]})]})}),Q&&e.jsx("div",{className:"flex-1 overflow-y-auto bg-white border-b border-gray-200",children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wide mb-2",children:v.length>0?`${v.length} result${v.length>1?"s":""}`:"No results"}),v.length>0&&e.jsx("div",{className:"flex flex-col gap-0.5",children:v.map(({nodeKey:l,node:p,matchType:b})=>e.jsxs("button",{onClick:()=>G(l,p),className:"group flex items-center justify-between w-full px-3 py-2 rounded-lg cursor-pointer text-left transition-colors hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("span",{className:"text-sm text-gray-900 truncate",children:p.title}),b==="id"&&e.jsxs("span",{className:"text-xs text-gray-400 truncate",children:["ID: ",l.split(":")[2]]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.badge&&e.jsx("span",{className:J("px-1.5 py-0.5 text-[8px] font-semibold uppercase tracking-wide rounded",Re(p.badge)),children:p.badge}),p.pages&&p.pages.length>0&&e.jsx(B,{className:"w-4 h-4 text-gray-400 group-hover:text-purple-500"})]})]},l))}),v.length===0&&u.trim()&&e.jsxs("div",{className:"text-sm text-gray-500 py-4 text-center",children:['No resources found for "',u,'"']})]})})]})}const ce="eventcatalog-sidebar-nav",de="eventcatalog-sidebar-collapsed",_e=o=>{try{localStorage.setItem(ce,JSON.stringify(o))}catch(j){console.warn("Failed to save sidebar state:",j)}},Ae=()=>{try{const o=localStorage.getItem(ce);return o?JSON.parse(o):null}catch(o){return console.warn("Failed to load sidebar state:",o),null}},ze=o=>{try{localStorage.setItem(de,JSON.stringify([...o]))}catch(j){console.warn("Failed to save collapsed sections:",j)}},He=()=>{try{const o=localStorage.getItem(de);return o?new Set(JSON.parse(o)):new Set}catch(o){return console.warn("Failed to load collapsed sections:",o),new Set}},f=(...o)=>o.filter(Boolean).join(" "),Y=o=>({domain:"bg-blue-100 text-blue-700",service:"bg-green-100 text-green-700",event:"bg-amber-100 text-amber-700",command:"bg-pink-100 text-pink-700",query:"bg-purple-100 text-purple-700",message:"bg-indigo-100 text-indigo-700",design:"bg-teal-100 text-teal-700",channel:"bg-indigo-100 text-indigo-700"})[o.toLowerCase()]||"bg-gray-100 text-gray-600";function ot(){const o=oe(Oe),j=oe(Pe),h=c.useMemo(()=>o?.roots??[],[o?.roots]),u=c.useMemo(()=>o?.nodes??{},[o?.nodes]),[m,x]=c.useState(()=>[{key:null,entries:[],title:"Documentation"}]),[_,k]=c.useState(0),[O,N]=c.useState(null),[I,A]=c.useState(!1),[P,R]=c.useState(""),[M,z]=c.useState(new Set),[G,v]=c.useState(!1),[Q,l]=c.useState(!1),[p,b]=c.useState(!1),S=c.useMemo(()=>{const t=new Map;return Object.keys(u).forEach(s=>{const a=s.split(":");if(a[0]!=="list"&&a.length>=2){const n=a[0],r=a[1];t.set(`${n}:${r}`,s)}}),t},[u]),C=t=>{z(s=>{const a=new Set(s);return a.has(t)?a.delete(t):a.add(t),ze(a),a})};c.useEffect(()=>{const t=He();t.size>0&&z(t)},[]),c.useEffect(()=>{h.length>0&&x(t=>t.length===1&&t[0].entries.length===0?[{key:null,entries:h,title:"Documentation"}]:t)},[h]);const F=c.useCallback(t=>typeof t=="string"?u[t]??null:t,[u]),L=c.useCallback(t=>t?t.visible!==!1:!1,[]),K=c.useCallback(t=>{const s=[{key:null,entries:h,title:"Documentation"}];for(const a of t){const n=u[a];if(n&&n.pages)s.push({key:a,entries:n.pages,title:n.title,badge:n.badge});else break}return s},[h,u]),U=c.useCallback(()=>m.filter(t=>t.key!==null).map(t=>t.key),[m]),H=c.useCallback(t=>{const s=[{pattern:/^\/docs\/domains\/([^/]+)\/([^/]+)/,type:"domain"},{pattern:/^\/visualiser\/domains\/([^/]+)\/([^/]+)/,type:"domain"},{pattern:/^\/architecture\/domains\/([^/]+)\/([^/]+)/,type:"domain"},{pattern:/^\/docs\/services\/([^/]+)\/([^/]+)/,type:"service"},{pattern:/^\/architecture\/services\/([^/]+)\/([^/]+)/,type:"service"},{pattern:/^\/visualiser\/services\/([^/]+)\/([^/]+)/,type:"service"},{pattern:/^\/docs\/events\/([^/]+)\/([^/]+)/,type:"event"},{pattern:/^\/docs\/commands\/([^/]+)\/([^/]+)/,type:"command"},{pattern:/^\/docs\/queries\/([^/]+)\/([^/]+)/,type:"query"},{pattern:/^\/visualiser\/messages\/([^/]+)\/([^/]+)/,type:"message"},{pattern:/^\/visualiser\/events\/([^/]+)\/([^/]+)/,type:"event"},{pattern:/^\/visualiser\/commands\/([^/]+)\/([^/]+)/,type:"command"},{pattern:/^\/visualiser\/queries\/([^/]+)\/([^/]+)/,type:"query"},{pattern:/^\/docs\/containers\/([^/]+)\/([^/]+)/,type:"container"},{pattern:/^\/visualiser\/containers\/([^/]+)\/([^/]+)/,type:"container"},{pattern:/^\/docs\/flows\/([^/]+)\/([^/]+)/,type:"flow"},{pattern:/^\/visualiser\/flows\/([^/]+)\/([^/]+)/,type:"flow"}],a=[{pattern:/^\/docs\/domains\/([^/]+)\/language/,type:"domain"}];for(const{pattern:n,type:r}of s){const g=t.match(n);if(g){const i=g[1],d=g[2],w=`${r}:${i}:${d}`;if(u[w])return w;const y=S.get(`${r}:${i}`);if(y)return y}}for(const{pattern:n,type:r}of a){const g=t.match(n);if(g){const i=g[1],d=S.get(`${r}:${i}`);if(d)return d}}return null},[S,u]),q=c.useCallback((t,s)=>{const a=u[t];if(!a)return null;const n=s.findIndex(d=>d.key===t);if(n!==-1)return s.slice(0,n+1);const r=s[s.length-1],g=r.key?u[r.key]:null,i=r.key===null?h:g?.pages;return i&&i.some(w=>typeof w=="string"?w===t:!1)?a.pages&&a.pages.length>0?[...s,{key:t,entries:a.pages,title:a.title,badge:a.badge}]:s:null},[u,h]),V=c.useCallback(t=>{const s=H(t);return s?(x(a=>{const n=q(s,a);if(n)return n;const r=u[s];return r&&r.pages&&r.pages.length>0?[{key:null,entries:h,title:"Documentation"},{key:s,entries:r.pages,title:r.title,badge:r.badge}]:a}),!0):t==="/"||t===""?(x(a=>(a.length>1&&(N("backward"),k(n=>n+1)),[{key:null,entries:h,title:"Documentation"}])),!0):!1},[H,q,u,h]);if(c.useEffect(()=>{if(!o||h.length===0||I)return;const t=window.location.pathname;if(t==="/"||t===""){x([{key:null,entries:h,title:"Documentation"}]),A(!0);return}const s=Ae(),a=H(t);let n=null;if(s&&s.path.length>0){const r=K(s.path);if(a){const g=q(a,r);g&&(n=g)}else n=r}if(!n&&a){const r=u[a];r&&r.pages&&r.pages.length>0&&(n=[{key:null,entries:h,title:"Documentation"},{key:a,entries:r.pages,title:r.title,badge:r.badge}])}x(n||[{key:null,entries:h,title:"Documentation"}]),A(!0)},[o,h,u,I,K,H,q]),c.useEffect(()=>{if(!I)return;const t=U();_e({path:t,currentUrl:window.location.pathname})},[m,I,U]),c.useEffect(()=>{R(window.location.pathname);const t=()=>{const a=window.location.pathname;R(a),I&&V(a)};window.addEventListener("popstate",t);const s=a=>{const r=a.target.closest("a");r&&r.href&&r.href.startsWith(window.location.origin)&&setTimeout(()=>{const g=window.location.pathname;g!==P&&(R(g),I&&V(g))},100)};return document.addEventListener("click",s),()=>{window.removeEventListener("popstate",t),document.removeEventListener("click",s)}},[I,V,P]),!o||h.length===0)return e.jsx("aside",{className:"w-[315px] h-screen flex flex-col bg-gray-50 border-r border-gray-200",children:e.jsx("div",{className:"px-3 py-2 bg-white border-b border-gray-200",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Loading..."})})});const T=m[m.length-1],Z=t=>t.type==="group",ge=t=>(t.pages?.length??0)>0,ee=t=>t.pages?t.pages.some(s=>{const a=F(s);return L(a)}):!1,ue=(t,s)=>{if(t.pages&&t.pages.length>0){N("forward"),k(n=>n+1);const a=[...m,{key:s,entries:t.pages,title:t.title,badge:t.badge}];x(a),v(!1),l(!1)}},pe=()=>{m.length>1&&(N("backward"),k(t=>t+1),x(m.slice(0,-1)),v(!1),l(!1))},he=t=>{t<m.length-1&&(N("backward"),k(s=>s+1),x(m.slice(0,t+1)),v(!1),l(!1))},me=c.useCallback(t=>t?j.some(s=>s.nodeKey===t):!1,[j]),te=(t,s)=>{if(!t)return;const a={nodeKey:t,path:U(),title:s.title,badge:s.badge,href:s.href};Te(a)},xe=t=>{const s=u[t.nodeKey];if(t.href&&(!s?.pages||s.pages.length===0)){window.location.href=t.href;return}const a=K(t.path);s&&s.pages&&s.pages.length>0&&a.push({key:t.nodeKey,entries:s.pages,title:s.title,badge:s.badge}),N("forward"),k(n=>n+1),x(a),v(!1),l(!1)},E=m.length===1,fe=(t,s)=>{if(s.href&&(!s.pages||s.pages.length===0)){window.location.href=s.href;return}s.pages&&s.pages.length>0&&(N("forward"),k(a=>a+1),x([{key:null,entries:h,title:"Documentation"},{key:t,entries:s.pages,title:s.title,badge:s.badge}])),b(!1),v(!1),l(!1)},be=t=>{const s=[];let a=[];const n=()=>{a.length>0&&(s.push(e.jsx("div",{className:"flex flex-col gap-0.5 mb-1.5",children:a.map((r,g)=>ae(r.node,r.key,g))},`items-${s.length}`)),a=[])};return t.forEach((r,g)=>{const i=F(r);if(!i||!L(i))return;const d=typeof r=="string"?r:null;if(Z(i)){if(!ee(i))return;n(),s.push(se(i,d,g))}else a.push({node:i,key:d})}),n(),s},se=(t,s,a)=>{const n=t.icon?le[t.icon]:null,r=t.pages?.filter(y=>{const D=F(y);return D&&L(D)})??[],g=s||`group-${a}`,i=M.has(g),d=r.length>3,w=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[n&&e.jsx("span",{className:"mr-2 text-gray-900",children:e.jsx(n,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"text-sm text-black font-semibold",children:t.title})]}),d&&e.jsx(ie,{className:f("w-4 h-4 text-gray-400 transition-transform",i&&"-rotate-90")})]});return e.jsxs("div",{className:"mb-4 last:mb-2",children:[d?e.jsx("button",{onClick:()=>C(g),className:"flex items-center justify-between w-full px-2 py-1.5 pb-1.5 hover:bg-gray-100 rounded transition-colors cursor-pointer",children:w}):e.jsx("div",{className:"flex items-center justify-between px-2 py-1.5 pb-1.5",children:w}),!i&&e.jsx("div",{className:"flex flex-col gap-0.5 border-l ml-3.5 border-gray-100",children:r.map((y,D)=>{const $=F(y);if(!$)return null;const W=typeof y=="string"?y:null;return Z($)?ee($)?e.jsx("div",{className:"ml-3 mt-1.5 pl-3 border-l border-gray-200",children:se($,W,D)},`nested-group-${W||D}`):null:ae($,W,D)})})]},`group-${s||a}`)},ae=(t,s,a)=>{const n=ge(t),r=t.href&&P===t.href,g=me(s),i=s!==null,d=t.icon?le[t.icon]:null,w=re=>{re.preventDefault(),re.stopPropagation(),te(s,t)},y=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1 ",children:[d&&e.jsx("span",{className:f("flex items-center justify-center w-5 h-5 flex-shrink-0",r?"text-black":"text-gray-500"),children:e.jsx(d,{className:"w-4 h-4"})}),t.leftIcon&&e.jsx("img",{src:t.leftIcon,alt:"",className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:f("text-[13px] truncate",r?"text-black font-medium":"text-gray-600 group-hover:text-gray-900"),children:t.title})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[i&&e.jsx("div",{onClick:w,className:f("flex items-center justify-center w-5 h-5 rounded transition-colors cursor-pointer",g?"text-amber-400 hover:text-amber-500":"text-gray-300 opacity-0 group-hover:opacity-100 hover:text-amber-400"),children:e.jsx(X,{className:f("w-3.5 h-3.5",g&&"fill-current")})}),n&&e.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-gray-400 group-hover:text-black group-hover:translate-x-0.5 transition-transform",children:e.jsx(B,{className:"w-4 h-4"})})]})]}),D="group flex items-center justify-between w-full px-3 py-1 rounded-lg cursor-pointer text-left transition-colors hover:bg-gray-100 active:bg-gray-200",$=n?"font-medium":"",W=r?"bg-gray-200 hover:bg-gray-200 border-l-4 border-black rounded-l-none":"";return t.href&&!n?e.jsx("a",{href:t.href,target:t.external?"_blank":void 0,className:f(D,$,W),children:y},`item-${s||a}`):e.jsx("button",{onClick:()=>ue(t,s),className:f(D,$),children:y},`item-${s||a}`)},ye=()=>O==="forward"?"animate-slide-in-right":O==="backward"?"animate-slide-in-left":"";return e.jsxs("aside",{className:"w-[315px] h-full flex flex-col font-sans",children:[e.jsx(We,{nodes:u,onSelectResult:fe,onSearchChange:b}),!p&&e.jsxs(e.Fragment,{children:[!E&&e.jsxs("div",{className:"px-3 py-2 bg-white border-b border-gray-200 sticky top-0 z-10",onMouseEnter:()=>!E&&v(!0),onMouseLeave:()=>{v(!1),l(!1)},children:[e.jsxs("button",{onClick:pe,disabled:E,className:f("flex items-center gap-2 w-full px-2 py-1.5 -mx-2 rounded-md transition-colors",!E&&"hover:bg-gray-100 cursor-pointer",E&&"cursor-default"),children:[e.jsx("span",{className:f("flex items-center justify-center w-5 h-5 text-gray-500 transition-all",E&&"opacity-0",!E&&"group-hover:-translate-x-0.5"),children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 truncate",children:T.title}),T.badge&&e.jsx("span",{className:f("ml-auto px-2 py-0.5 text-[9px] font-semibold uppercase tracking-wide rounded",Y(T.badge)),children:T.badge})]}),G&&m.length>1&&e.jsx("div",{className:"absolute left-0 right-0 top-full bg-white border-b border-gray-200 shadow-lg z-20",children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wide mb-2",children:"Navigation Path"}),e.jsx("div",{className:"flex flex-col gap-0.5",children:(()=>{const a=m.length,n=a-2-2,r=n>0&&!Q,g=(i,d,w)=>{const y=d===m.length-1;return e.jsxs("button",{onClick:()=>he(d),disabled:y,className:f("flex items-center gap-2 px-2 py-1.5 rounded text-left transition-colors",!y&&"hover:bg-gray-100 cursor-pointer",y&&"bg-gray-200 cursor-default"),style:{paddingLeft:`${w*12+8}px`},children:[d===0?e.jsx(De,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}):e.jsx(B,{className:"w-3.5 h-3.5 text-gray-300 flex-shrink-0"}),e.jsx("span",{className:f("text-sm truncate",y?"font-medium text-black":"text-gray-600"),children:i.title}),i.badge&&e.jsx("span",{className:f("ml-auto px-1.5 py-0.5 text-[8px] font-semibold uppercase tracking-wide rounded flex-shrink-0",Y(i.badge)),children:i.badge})]},`path-${d}`)};return r?e.jsxs(e.Fragment,{children:[m.slice(0,2).map((i,d)=>g(i,d,d)),e.jsxs("button",{onClick:i=>{i.stopPropagation(),l(!0)},className:"flex items-center gap-2 px-2 py-1.5 rounded text-left transition-colors hover:bg-gray-100 cursor-pointer",style:{paddingLeft:"32px"},children:[e.jsx("span",{className:"flex items-center justify-center w-3.5 h-3.5 text-gray-400",children:e.jsx("span",{className:"text-xs",children:"•••"})}),e.jsxs("span",{className:"text-sm text-gray-500",children:[n," more level",n>1?"s":""]}),e.jsx(ie,{className:"w-3.5 h-3.5 text-gray-400 ml-auto"})]}),m.slice(-2).map((i,d)=>{const w=a-2+d;return g(i,w,3+d)})]}):m.map((i,d)=>g(i,d,d))})()})]})})]}),e.jsxs("nav",{className:f("flex-1 overflow-y-auto overflow-x-hidden p-3",ye()),style:{scrollbarWidth:"thin",scrollbarColor:"#e5e7eb transparent"},children:[j.length>0&&E&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center px-2 py-2 pb-2",children:[e.jsx(X,{className:"w-3.5 h-3.5 mr-2 text-amber-400 fill-current"}),e.jsx("span",{className:"text-sm text-black font-semibold",children:"Favorites"})]}),e.jsx("div",{className:"flex flex-col gap-0.5 border-l ml-3.5 border-amber-200",children:j.map((t,s)=>{const a=u[t.nodeKey],n=t.href&&P===t.href;return e.jsxs("button",{onClick:()=>xe(t),className:f("group flex items-center justify-between w-full px-3 py-1.5 rounded-lg cursor-pointer text-left transition-colors hover:bg-amber-50 active:bg-amber-100",n&&"bg-gray-200 hover:bg-gray-200 border-l-4 border-black rounded-l-none"),children:[e.jsx("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:e.jsx("span",{className:f("text-[14px] truncate",n?"text-black font-medium":"text-gray-600 group-hover:text-gray-900"),children:t.title})}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.badge&&e.jsx("span",{className:f("px-1.5 py-0.5 text-[8px] font-semibold uppercase tracking-wide rounded",Y(t.badge)),children:t.badge}),e.jsx("div",{onClick:r=>{r.stopPropagation(),a&&te(t.nodeKey,a)},className:"flex items-center justify-center w-5 h-5 text-amber-400 hover:text-amber-500 rounded transition-colors cursor-pointer",children:e.jsx(X,{className:"w-3.5 h-3.5 fill-current"})}),a?.pages&&a.pages.length>0&&e.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-gray-400 group-hover:text-black",children:e.jsx(B,{className:"w-4 h-4"})})]})]},`fav-${s}`)})})]}),T.entries.length===0&&j.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-12 text-center",children:[e.jsx("div",{className:"mb-4 p-3 rounded-full bg-gray-100",children:e.jsx(Ie,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Your catalog is empty"}),e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed max-w-[240px]",children:"Navigation will appear here when you add resources to your EventCatalog."})]}),T.entries.length>0&&be(T.entries)]},_)]}),e.jsx("style",{children:`
                @keyframes slideInRight {
                    from { opacity: 0; transform: translateX(40px); }
                    to { opacity: 1; transform: translateX(0); }
                }
                @keyframes slideInLeft {
                    from { opacity: 0; transform: translateX(-40px); }
                    to { opacity: 1; transform: translateX(0); }
                }
                .animate-slide-in-right {
                    animation: slideInRight 200ms ease-out forwards;
                }
                .animate-slide-in-left {
                    animation: slideInLeft 200ms ease-out forwards;
                }
            `})]})}export{ot as default};
