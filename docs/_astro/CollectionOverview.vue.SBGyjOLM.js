import{_}from"./ViewLayoutSection.vue._7aQ8tAe.js";import{d as x,M as k,b as p,K as y,av as C,o,q as n,e as c,k as u,w as m,f as v,u as l,D as h,$ as V,x as w,P as z,aw as B,s as $,F as E,J as I}from"./_OpenAPI.DMAH7NkW.js";import"./jsx-runtime.DCqPeNwG.js";import"./index.66AI1_x2.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./index.CYbN6hFM.js";import"./index.dom.MoK_LCF9.js";import"./preload-helper.BvKcMGkc.js";import"./floating-ui.dom.BTe-0RMz.js";/* empty css                            */const D={class:"flex h-full w-full flex-col gap-2 pt-8"},M={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},j={class:"has-[:focus-visible]:bg-b-1 z-1 group relative flex flex-col rounded-lg"},N={class:"h-full min-h-[calc(1rem*4)]"},P={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},F=x({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(g,{emit:s}){const d=s,t=k("preview"),i=k(null);return y(t,a=>{a==="edit"&&C(()=>{var e;(e=i.value)==null||e.focus()})}),(a,e)=>(o(),p("div",D,[n("div",M,[e[6]||(e[6]=n("h3",{class:"font-bold"},"Description",-1)),t.value==="preview"?(o(),c(l(V),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",type:"button",size:"sm",variant:"outlined",onClick:e[0]||(e[0]=r=>t.value="edit")},{default:m(()=>[v(l(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[5]||(e[5]=n("span",null,"Edit",-1))]),_:1})):u("",!0)]),n("div",j,[n("div",N,[t.value==="preview"?(o(),p(w,{key:0},[a.modelValue?(o(),p(w,{key:0},[a.modelValue?(o(),c(l(z),{key:0,withImages:"",class:"hover:border-b-3 h-full rounded border border-transparent p-1.5",value:a.modelValue,onDblclick:e[1]||(e[1]=r=>t.value="edit")},null,8,["value"])):u("",!0),e[7]||(e[7]=n("div",{class:"brightness-lifted -z-1 bg-b-1 absolute inset-0 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(o(),p("div",P,[v(l(V),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",variant:"ghost",size:"sm",onClick:e[2]||(e[2]=r=>t.value="edit")},{default:m(()=>[v(l(h),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[8]||(e[8]=n("span",null,"Write a description",-1))]),_:1})]))],64)):u("",!0),t.value==="edit"?(o(),c(B,{key:1,ref_key:"codeInputRef",ref:i,class:"h-full border px-0.5 py-0",modelValue:a.modelValue,environment:a.environment,envVariables:a.envVariables,workspace:a.workspace,onBlur:e[3]||(e[3]=r=>t.value="preview"),"onUpdate:modelValue":e[4]||(e[4]=r=>d("update:modelValue",r))},null,8,["modelValue","environment","envVariables","workspace"])):u("",!0)])])]))}}),U=$(F,[["__scopeId","data-v-139eac35"]]),Q=x({__name:"CollectionOverview",setup(g){const{activeCollection:s,activeEnvironment:d,activeEnvVariables:t,activeWorkspace:i}=E(),{collectionMutators:a}=I(),e=r=>{s.value&&a.edit(s.value.uid,"info.description",r)};return(r,W)=>(o(),c(_,null,{default:m(()=>{var f,b;return[l(d)&&l(i)?(o(),c(U,{key:0,environment:l(d),envVariables:l(t),workspace:l(i),modelValue:((b=(f=l(s))==null?void 0:f.info)==null?void 0:b.description)??"","onUpdate:modelValue":e},null,8,["environment","envVariables","workspace","modelValue"])):u("",!0)]}),_:1}))}});export{Q as default};
